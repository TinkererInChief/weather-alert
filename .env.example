# Weather Alert - Example Environment Variables
# Copy this file to .env.local (for local dev) or configure on your hosting provider.

# --- Required (general) ---
#DATABASE_URL="postgresql://user:pass@host:5432/dbname?sslmode=require"
#NEXTAUTH_URL="http://localhost:3000"
#NEXTAUTH_SECRET="replace-with-strong-secret"

# Twilio / SendGrid etc. omitted for brevity

# --- Mapbox (for 3D map previews) ---
# Get your free token from https://account.mapbox.com/
# Free tier: 200,000 map loads/month
NEXT_PUBLIC_MAPBOX_TOKEN="pk.your.mapbox.token.here"

# --- GeoNames (for real city/population data) ---
# Register for free at http://www.geonames.org/login
# Free tier: 30,000 requests/day
# Required for earthquake impact analysis (city names, populations, distances)
GEONAMES_USERNAME="your_geonames_username"

# --- Tsunami API Hardening ---
# Provide a descriptive User-Agent with contact information (per NOAA guidelines)
NWS_USER_AGENT="weather-alert/1.0 (+https://your-site.example; ops@your-site.example)"
PTWC_USER_AGENT="weather-alert/1.0 (+https://your-site.example; ops@your-site.example)"
# Optional global fallback User-Agent used if source-specific UA not set
EXTERNAL_REQUEST_USER_AGENT="weather-alert/1.0 (+https://your-site.example; ops@your-site.example)"

# Throttling and backoff (milliseconds)
# Minimum time between upstream fetches when successful or unchanged (HTTP 304)
TSUNAMI_POLL_TTL_MS=300000
# Maximum exponential backoff delay after 403/429
TSUNAMI_POLL_MAX_BACKOFF_MS=3600000

# --- Data Source Configuration ---
# Enable/disable specific data sources (true/false)
# Default: JMA requires explicit enable, others enabled by default

# Japan Meteorological Agency (JMA)
# Requires: Attribution "Source: Japan Meteorological Agency (https://www.jma.go.jp)"
# License: Commercial use permitted with attribution
JMA_ENABLED=true
JMA_PARSER_ENABLED=true

# JMA Tsunami Alert Ingestion Settings
# Lookback window in minutes (default: 1440 = 24 hours)
JMA_LOOKBACK_MINUTES=1440
# Maximum number of detail JSONs to fetch per poll (default: 50)
JMA_DETAIL_MAX=50
# Concurrent detail fetch requests (default: 5)
JMA_DETAIL_CONCURRENCY=5

# GeoNet New Zealand
# Requires: Attribution "Data from GeoNet, GNS Science, New Zealand"
# License: CC BY 3.0 NZ (commercial use permitted)
GEONET_ENABLED=true

# DART Buoy Network (NOAA)
# License: US Public Domain (no attribution required)
# Provides real-time tsunami wave detection
DART_ENABLED=true

# Data Attribution (recommended even when not required)
DATA_ATTRIBUTION_USGS="U.S. Geological Survey, Earthquake Hazards Program"
DATA_ATTRIBUTION_NOAA="NOAA National Weather Service & Pacific Tsunami Warning Center"
DATA_ATTRIBUTION_JMA="Japan Meteorological Agency (https://www.jma.go.jp)"
DATA_ATTRIBUTION_GEONET="GeoNet, GNS Science, New Zealand"
DATA_ATTRIBUTION_DART="NOAA National Data Buoy Center"

# --- Maritime / AIS Data Sources ---
# AISHub - Free AIS data (requires registration)
# Get your key from: https://www.aishub.net/
AISHUB_API_KEY="your_aishub_api_key"

# AISStream - WebSocket AIS streaming
# Get your key from: https://aisstream.io/
AISSTREAM_API_KEY="your_aisstream_api_key"

# Marinesia API - Vessel data, tracking, and ports
# Get your key from: https://api.marinesia.com
# Free tier available with rate limits
MARINESIA_API_KEY="your_marinesia_api_key"

# --- Contact Form Email (Netlify) ---
# IMPORTANT: This email address receives contact form submissions
# Set this in Netlify dashboard Environment Variables (NOT in code)
# Path: Site Settings > Environment variables > Add variable
# This keeps your email hidden from public source code
#CONTACT_EMAIL="xyz@gmail.com"

# Optional: If using custom email function with SendGrid
#SENDGRID_API_KEY="your_sendgrid_api_key"
#SENDGRID_FROM_EMAIL="noreply@yourdomain.com"
